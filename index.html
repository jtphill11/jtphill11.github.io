<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bullride | Wall Street at Home</title>

    <!-- Foundation CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.3/css/foundation.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/motion-ui/1.2.3/motion-ui.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.3/css/foundation-prototype.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/foundation-icons.css" rel="stylesheet" type="text/css">
  </head>

  <body>
    <!-- Sidebar -->
    <div class="off-canvas position-left reveal-for-large" id="my-info" data-off-canvas>
      <div class="grid-y grid-padding-x" style="height: 100%;">
        <br>
        <div class="cell shrink">
          <img class="thumbnail" src="assets/bullride_logo.png" alt="Bullride Logo">
        </div>
        <div class="cell auto">
          <input type="button" class="button expanded" id="signIn" value="Log In">
          <input type="button" class="button expanded" id="signUp" value="Sign Up">
          <p>Log in to view, buy, sell, and create your very own ETF baskets, or create an account for free today!</p>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="off-canvas-content" data-off-canvas-content>
      <div class="title-bar hide-for-large">
        <div class="title-bar-left">
          <button class="menu-icon" type="button" data-toggle="my-info"></button>
          <span class="title-bar-title">Bullride</span>
        </div>
      </div>

      <div class="callout primary">
        <article class="grid-container">
          <div>
            <h1>Welcome to Bullride, The Spotify of Wall Street.</h1>
            <p class="lead">
              Introducing a revolutionary way to invest in the market. Create your own ETFs, share them, or use AI-generated baskets. 
              This project is currently in development.
            </p>
          </div>
        </article>
      </div>

      <article class="grid-container">
        <div class="grid-x grid-margin-x small-up-2 medium-up-3 large-up-4">
          <div class="cell">
            <img class="thumbnail" src="assets/etf_icon.png" alt="Create ETFs">
            <h5>Create ETFs</h5>
          </div>
          <div class="cell">
            <img class="thumbnail" src="assets/etf_icon.png" alt="Share ETFs">
            <h5>Share ETFs</h5>
          </div>
          <div class="cell">
            <img class="thumbnail" src="assets/etf_icon.png" alt="New ETFs">
            <h5>New ETFs</h5>
          </div>
          <div class="cell">
            <img class="thumbnail" src="assets/etf_icon.png" alt="Trending ETFs">
            <h5>Trending ETFs</h5>
          </div>
          <div class="cell">
            <img class="thumbnail" src="assets/etf_icon.png" alt="Search ETFs">
            <h5>Search ETFs</h5>
          </div>
          <div class="cell">
            <img class="thumbnail" src="assets/etf_icon.png" alt="r/wallstreetbets ETFs">
            <h5>r/wallstreetbets ETFs</h5>
          </div>
          <div class="cell">
            <img class="thumbnail" src="assets/etf_icon.png" alt="Politician ETFs">
            <h5>Politician ETFs</h5>
          </div>
          <div class="cell">
            <img class="thumbnail" src="assets/etf_icon.png" alt="Rising ETFs">
            <h5>Rising ETFs</h5>
          </div>
        </div>

        <hr>

        <div class="grid-x grid-margin-x">
          <div class="medium-6 cell">
            <h3>I'm Interested in Early Access</h3>
            <p>
              Register here to subscribe to our newsletter with updates regarding Bullride. 
              Unsubscribe anytime. Become an early access user or contribute to development!
            </p>
            <ul class="menu">
              <li><a href="#">X</a></li>
              <li><a href="#">YouTube</a></li>
              <li><a href="#">LinkedIn</a></li>
            </ul>
          </div>

          <div class="medium-6 cell">
            <!-- Contact Form -->
            <form id="contactForm">
              <label>Name
                <input type="text" name="name" placeholder="Name" required>
              </label>
              <label>Email
                <input type="email" name="email" placeholder="Email" required>
              </label>
              <label>
                Message
                <textarea name="message" placeholder="I'm interested in..." required></textarea>
              </label>
              <input type="submit" class="button expanded" value="Submit">
            </form>
          </div>
        </div>
      </article>
    </div>

    <!-- JS Dependencies -->
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.3/js/foundation.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/motion-ui/1.2.3/motion-ui.min.js"></script>

    <!-- Cognito Login Script -->
    <script type="module">
      import { UserManager } from "https://cdn.jsdelivr.net/npm/oidc-client-ts@2.2.3/+esm";

      const userManager = new UserManager({
        authority: "https://auth.bullride.us",
        client_id: "381m2et8aa0j89at1na8lm1l62",
        redirect_uri: "https://bullride.us/dashboard",
        response_type: "code",
        scope: "openid email profile"
      });

      console.log("Bullride OIDC initialized");

      document.getElementById("signIn").addEventListener("click", async () => {
        console.log("Redirecting to Cognito sign-in...");
        await userManager.signinRedirect();
      });

      document.getElementById("signUp").addEventListener("click", async () => {
        console.log("Redirecting to Cognito sign-up...");
        await userManager.signinRedirect({ screen_hint: "signup" });
      });
    </script>

    <!-- Contact Form JS -->
    <script>
      const backendURL = 'https://backend.bullride.us';

      const form = document.getElementById('contactForm');

      form.addEventListener('submit', async (e) => {
        e.preventDefault();

        const formData = {
          name: form.name.value,
          email: form.email.value,
          message: form.message.value
        };

        try {
          const response = await fetch(`${backendURL}/contact`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(formData)
          });

          const result = await response.json();
          alert(result.message); // Show success message

          form.reset(); // Clear form fields
        } catch (error) {
          console.error('Error submitting form:', error);
          alert('There was an error submitting your message.');
        }
      });
    </script>

    <script>
      $(document).foundation();
    </script>
  </body>
</html>
